{% extends "base.html" %}
{% block content %}
<h4 class="section-title">Farm Diary / Digital Notebook</h4>
<p class="small text-muted mb-3">
  Quickly note important farm activities like seed purchase, fertilizer usage,
  pesticide application and irrigation schedule so that you can review them later.
</p>

<form method="post" class="row g-3 mb-4">
  <div class="col-md-3">
    <label class="form-label">Date / തീയതി</label>
    <input type="date" name="date" class="form-control">
  </div>
  <div class="col-md-3">
    <label class="form-label">Crop / വിള</label>
    <input type="text" name="crop" class="form-control" placeholder="Paddy, Banana...">
  </div>
  <div class="col-md-6">
    <label class="form-label">Seed purchase details</label>
    <input type="text" name="seed" class="form-control" placeholder="Variety, quantity, shop...">
  </div>
  <div class="col-md-6">
    <label class="form-label">Fertilizer usage</label>
    <input type="text" name="fertilizer" class="form-control" placeholder="Type, dose, date...">
  </div>
  <div class="col-md-6">
    <label class="form-label">Pesticide / disease control</label>
    <input type="text" name="pesticide" class="form-control" placeholder="Product, dose, target pest...">
  </div>
  <div class="col-12">
    <label class="form-label">Irrigation schedule / notes</label>
    <textarea name="irrigation" class="form-control" rows="2" placeholder="Watering dates, hours of pumping, canal schedule..."></textarea>
  </div>
  <div class="col-12">
    <button class="btn btn-success" type="submit">Save entry / കുറിപ്പ് സേവ് ചെയ്യുക</button>
  </div>
</form>

{% if entries %}
  <h6 class="mb-2">Recent diary entries</h6>
  <div class="table-responsive">
    <table class="table table-sm align-middle">
      <thead class="table-light">
        <tr>
          <th scope="col">Date</th>
          <th scope="col">Crop</th>
          <th scope="col">Seed</th>
          <th scope="col">Fertilizer</th>
          <th scope="col">Pesticide</th>
          <th scope="col">Irrigation notes</th>
        </tr>
      </thead>
      <tbody>
        {% for e in entries %}
        <tr>
          <td>{{ e.date or '-' }}</td>
          <td>{{ e.crop or '-' }}</td>
          <td>{{ e.seed or '-' }}</td>
          <td>{{ e.fertilizer or '-' }}</td>
          <td>{{ e.pesticide or '-' }}</td>
          <td>{{ e.irrigation or '-' }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <p class="small text-muted mt-2 mb-0">
    Note: Entries are stored only while the server is running. For a real farm diary,
    this can be connected to a database and AI reminders (SMS / WhatsApp) in future.
  </p>
{% else %}
  <p class="small text-muted mb-0">No diary entries yet. Add your first farm activity above.</p>
{% endif %}
{% endblock %}
